#N canvas 818 375 608 410 10;
#X declare -path lib;
#X obj 310 10 namecanvas \$1;
#X obj 86 77 cnv 15 81 38 empty \$0-learn-mode empty 20 12 0 14 #e0e0e0
#202020 0;
#X obj 270 58 cnv 15 33 179 empty empty empty 20 12 0 14 #e0e0e0 #404040
0;
#X obj 30 242 raptor;
#X obj 81 340 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 310 27 raptor-panel \$0;
#X obj 280 58 vradio 15 0 0 20 \$0-presetno-set \$0-presetno empty
0 -8 0 10 #fcfcfc #000000 #000000 14;
#X msg 144 250 4 4;
#X msg 174 250 3 4;
#N canvas 694 510 450 300 meter 0;
#X obj 30 190 list prepend meter;
#X obj 30 215 list trim;
#X obj 30 30 inlet;
#X obj 30 55 list split 2;
#X obj 30 160 list append;
#X obj 64 80 route bang;
#X msg 64 108 1;
#X text 100 110 default division is 1;
#X obj 30 240 s all-arp;
#X obj 80 30 r \$0-meter;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 5 1 4 1;
#X connect 6 0 4 1;
#X connect 9 0 3 0;
#X restore 174 290 pd meter;
#X msg 204 250 4 4 3;
#X msg 130 340 90;
#X msg 160 340 120;
#X msg 190 340 160;
#N canvas 432 513 450 300 tempo 0;
#X obj 30 85 list trim;
#X obj 30 30 inlet;
#X obj 30 60 list prepend tempo;
#X obj 30 110 s all-arp;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X restore 160 370 pd tempo;
#X text 260 34 presets;
#X msg 30 162 reset;
#X msg 30 141 panic;
#X msg 30 183 reload;
#X msg 30 120 stop;
#X text 90 120 special ops;
#X text 153 318 tempo (bpm);
#X floatatom 220 340 5 30 960 0 - #0-tempo-sync -, f 5;
#X obj 150 216 meter-examples;
#N canvas 1062 297 582 584 time 0;
#X obj 40 20 inlet;
#X obj 230 20 tgl 15 1 empty \$0-master-toggle M 17 7 0 10 #fcfcfc
#000000 #000000 1 1;
#X obj 460 175 bng 15 50 10 0 pulse empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 390 44 tgl 15 0 empty \$0-metro empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 170 120 != 0;
#X obj 260 120 == 0;
#X obj 170 145 s \$0-master;
#X obj 260 145 s \$0-slave;
#X obj 40 200 r \$0-master;
#X obj 170 200 r \$0-slave;
#X text 40 170 - master -;
#X text 170 170 - slave -;
#X obj 230 255 sel \$0;
#X msg 263 280 0;
#X obj 390 70 spigot;
#X obj 282 20 bng 15 100 10 0 empty empty empty 17 7 0 10 #fcfcfc #202020
#202020;
#X obj 170 255 spigot;
#X msg 170 280 1;
#X obj 401 320 s \$0-me;
#X obj 170 230 r \$0-me;
#X obj 282 100 outlet;
#X obj 230 230 r all-master;
#X obj 170 310 s \$0-master-toggle;
#X obj 170 70 change -1;
#X obj 40 260 sel 1;
#X obj 40 285 f \$0;
#X obj 240 430 sel 1;
#X obj 350 265 t f f f b;
#X msg 384 350 set \$1;
#X obj 384 375 s \$0-play;
#X obj 460 95 r \$0-tick;
#X obj 40 365 midiclock;
#X obj 40 230 t f f f;
#X obj 65 390 s \$0-ms;
#X obj 40 390 bng 15 100 50 0 pulse empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 120 390 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X floatatom 140 497 5 0 0 0 - - -, f 5;
#X msg 140 521 color \$1 12 12;
#X msg 120 467 13;
#X obj 120 440 sel 1 0;
#X obj 140 546 s pulse;
#X msg 160 467 0;
#X obj 350 240 spigot 1;
#X obj 390 95 spigot 1;
#X obj 190 440 == 0;
#X obj 40 340 r \$0-m;
#X obj 90 340 r \$0-n;
#X floatatom 185 19 3 -24 24 0 - #0-pos -, f 3;
#X obj 240 457 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 240 480 spigot;
#X obj 273 457 tgl 15 1 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 240 505 s \$0-pos;
#X obj 120 413 t f f f;
#X text 300 420 just leave this enabled \, in case your DAW doesn't
send SPP messages - it simply resends the pulse counter before starting
playback \, so it shouldn't do any harm even if your DAW *does* support
SPP, f 30;
#X obj 256 20 tgl 15 1 empty \$0-clkin S 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 90 260 &&;
#X obj 100 230 t b f;
#N canvas 390 308 451 326 setup 0;
#X obj 260 20 r query-master;
#X obj 260 45 spigot;
#X obj 260 70 f \$0;
#X obj 260 95 s reply-master;
#X obj 360 20 inlet;
#X obj 40 20 inlet;
#X obj 40 45 pack f f;
#X msg 40 70 \$2 \$1;
#X obj 85 20 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000
1 1;
#X obj 40 210 outlet;
#X obj 40 95 route 0 1;
#X obj 40 120 t f b b;
#X obj 59 150 s query-master;
#X obj 260 155 sel \$0;
#X msg 293 180 0;
#X obj 260 130 r reply-master;
#X obj 40 180 spigot 1;
#X obj 293 205 t f f;
#X obj 293 230 s \$0-master-toggle;
#N canvas 214 282 450 300 meter 0;
#X obj 40 80 r \$0-meter-num;
#X obj 40 105 route set;
#X obj 140 105 route set;
#X obj 140 80 r \$0-meter-denom;
#X obj 40 170 s \$0-n;
#X obj 140 170 s \$0-m;
#X obj 250 105 route set;
#X obj 250 80 r \$0-division;
#X obj 250 130 t b b f f;
#X obj 140 130 * 1;
#X obj 40 130 * 1;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 1 1 10 0;
#X connect 2 0 9 0;
#X connect 2 1 9 0;
#X connect 3 0 2 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 8 0 10 0;
#X connect 8 1 9 0;
#X connect 8 2 10 1;
#X connect 8 3 9 1;
#X connect 9 0 5 0;
#X connect 10 0 4 0;
#X restore 150 50 pd meter;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 1 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 10 0;
#X connect 8 0 6 1;
#X connect 10 0 11 0;
#X connect 10 1 9 0;
#X connect 11 0 16 0;
#X connect 11 1 12 0;
#X connect 11 2 8 0;
#X connect 13 1 14 0;
#X connect 14 0 17 0;
#X connect 15 0 13 0;
#X connect 16 0 9 0;
#X connect 17 0 18 0;
#X connect 17 1 16 1;
#X restore 170 50 pd setup;
#X obj 460 150 metro 500;
#X obj 350 290 s \$0-metro;
#X obj 210 20 tgl 15 0 empty \$0-play empty 17 7 0 10 #9de493 #000000
#000000 0 1;
#X obj 170 90 t f f;
#X obj 390 150 sel 0;
#X msg 390 175 stop;
#X obj 390 200 s all-arp;
#N canvas 180 698 450 300 tempo 0;
#X floatatom 20 70 5 0 0 0 - - -, f 5;
#X floatatom 20 119 5 0 0 0 - - -, f 5;
#X obj 20 150 f;
#X obj 20 20 inlet;
#X obj 70 20 inlet;
#X obj 20 230 outlet;
#X obj 120 20 inlet;
#X obj 20 94 expr 60000/$f1*4/$f2;
#X obj 180 20 inlet;
#X floatatom 80 200 5 0 0 0 - - -, f 5;
#X obj 180 45 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 80 175 expr rint($f1);
#X obj 80 150 smooth 5;
#X text 200 100 We do another final smoothing step and round to integer
bpm values here \, in order to deal with the seemingly inevitable jitter
in the MIDI clocks. The argument of smooth is the filter coefficient.
Larger values reduce jitter at the cost of increased response times.
5 seems to be a good value on my Linux system \, but YMMV., f 37;
#X obj 80 70 loadbang;
#X msg 80 125 120;
#X connect 0 0 7 0;
#X connect 1 0 12 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 6 0 7 1;
#X connect 7 0 1 0;
#X connect 8 0 10 0;
#X connect 9 0 2 1;
#X connect 10 0 12 1;
#X connect 11 0 9 0;
#X connect 12 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 12 0;
#X restore 40 473 pd tempo;
#X obj 100 440 tgl 15 1 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X floatatom 40 498 5 0 0 0 - - -, f 5;
#X obj 40 520 spigot;
#X obj 40 547 s \$0-tempo-sync;
#X text 30 440 tempo sync;
#N canvas 598 468 450 300 master-send 0;
#X obj 100 80 s all-master;
#X msg 20 80 master \$1;
#X obj 20 105 s all-arp;
#X obj 20 20 inlet;
#X obj 20 45 t a a;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 0 0;
#X restore 40 310 pd master-send;
#X obj 430 240 change;
#X msg 430 265 play \$1;
#X obj 430 290 s \$0-arp;
#X obj 282 43 t b b;
#N canvas 760 385 450 300 pulse 0;
#X obj 20 70 t b b b;
#X msg 20 95 1;
#X msg 59 95 0;
#X msg 20 173 pulse -1;
#X obj 20 125 f 1;
#X obj 20 150 sel 1;
#X obj 20 250 outlet;
#X obj 76 250 outlet;
#X obj 70 20 r \$0-pulse;
#X obj 20 20 r pulse;
#X obj 80 70 inlet;
#X text 120 70 receive synthetic pulse triggers and pass them through
to the pulse control (2nd outlet), f 46;
#X text 120 130 filter out the synthetic triggers, f 46;
#X text 120 150 non-synthetic triggers received on the inlet generate
a 'pulse' parameter change output on the 1st outlet \, which can be
picked up by the MIDI learn facility, f 46;
#X text 150 20 pulse triggers -- we have to go to some lengths here
to detect synthetic pulse triggers vs actual clicks on the pulse control
, f 47;
#X obj 20 45 route bang;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 0 2 2 0;
#X connect 1 0 4 1;
#X connect 2 0 4 1;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 8 0 0 0;
#X connect 9 0 15 0;
#X connect 10 0 4 0;
#X connect 15 0 0 0;
#X restore 309 70 pd pulse;
#X obj 165 20 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X text 20 70 SPP - set pulse number;
#X obj 21 103 t b b;
#X obj 21 149 s all-arp;
#N canvas 612 439 450 300 rewind 0;
#X obj 20 70 t b b b;
#X msg 20 95 1;
#X msg 59 95 0;
#X obj 20 125 f 1;
#X obj 20 150 sel 1;
#X obj 20 250 outlet;
#X obj 76 250 outlet;
#X obj 80 70 inlet;
#X obj 20 20 r \$0-rewind;
#X msg 20 173 rewind -1;
#X obj 130 70 t b b b;
#X msg 130 95 1;
#X msg 169 95 0;
#X obj 130 20 r \$0-do-rewind;
#X obj 126 250 outlet;
#X connect 0 0 1 0;
#X connect 0 1 6 0;
#X connect 0 2 2 0;
#X connect 1 0 3 1;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 7 0 3 0;
#X connect 8 0 0 0;
#X connect 9 0 5 0;
#X connect 10 0 11 0;
#X connect 10 1 6 0;
#X connect 10 2 12 0;
#X connect 11 0 14 0;
#X connect 12 0 14 0;
#X connect 13 0 10 0;
#X restore 98 125 pd rewind;
#X obj 21 125 v \$0-posvar;
#X obj 61 103 t f f;
#N canvas 662 298 450 300 metro 0;
#X obj 20 50 change;
#X floatatom 80 75 5 0 0 0 - - -, f 5;
#X obj 80 110 timer;
#X floatatom 80 135 5 0 0 0 - - -, f 5;
#X obj 80 159 >;
#X obj 80 184 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 80 207 sel 1;
#X obj 20 75 t b f f;
#X obj 20 20 inlet;
#X obj 80 20 inlet;
#X obj 130 270 outlet;
#X obj 80 270 outlet;
#X text 140 80 This is tricky. We don't want the metro to get stuck
having scheduled a pulse a long (or even infinite) time in the future
if the tempo was updated in the meantime. So we check if the time since
the last pulse is already larger than the current tick value \, in
which case we just restart the metro. Not sure whether that's the best
(or even the right) way to do it \, but it seems to work. :), f 46
;
#X obj 130 20 inlet;
#X obj 80 232 spigot;
#X obj 130 207 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X connect 0 0 7 0;
#X connect 1 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 14 0;
#X connect 7 0 2 1;
#X connect 7 1 1 0;
#X connect 7 2 10 0;
#X connect 8 0 0 0;
#X connect 9 0 2 0;
#X connect 13 0 15 0;
#X connect 14 0 11 0;
#X connect 15 0 14 1;
#X restore 460 120 pd metro;
#X obj 390 120 t f f f;
#X obj 21 50 spigot 1;
#X obj 273 369 r \$0-deck;
#X obj 273 394 <= 0;
#X text 310 394 if > 0 then most likely we want the SPP OFF;
#X connect 0 0 60 0;
#X connect 1 0 57 0;
#X connect 2 0 84 1;
#X connect 3 0 14 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 8 0 32 0;
#X connect 9 0 16 1;
#X connect 12 1 13 0;
#X connect 13 0 22 0;
#X connect 14 0 43 0;
#X connect 15 0 75 0;
#X connect 16 0 17 0;
#X connect 17 0 22 0;
#X connect 19 0 16 0;
#X connect 21 0 12 0;
#X connect 23 0 61 0;
#X connect 24 0 25 0;
#X connect 25 0 71 0;
#X connect 26 0 48 0;
#X connect 27 0 59 0;
#X connect 27 1 26 0;
#X connect 27 2 28 0;
#X connect 27 3 18 0;
#X connect 28 0 29 0;
#X connect 30 0 84 0;
#X connect 31 0 34 0;
#X connect 31 1 33 0;
#X connect 31 1 65 0;
#X connect 31 2 35 0;
#X connect 31 3 51 0;
#X connect 32 0 24 0;
#X connect 32 1 14 1;
#X connect 32 1 57 1;
#X connect 32 2 55 0;
#X connect 34 0 65 1;
#X connect 35 0 52 0;
#X connect 35 0 65 3;
#X connect 36 0 37 0;
#X connect 37 0 40 0;
#X connect 38 0 36 0;
#X connect 39 0 38 0;
#X connect 39 1 41 0;
#X connect 41 0 36 0;
#X connect 42 0 27 0;
#X connect 42 0 72 0;
#X connect 43 0 85 0;
#X connect 44 0 42 1;
#X connect 44 0 43 1;
#X connect 45 0 31 0;
#X connect 45 0 65 2;
#X connect 46 0 31 1;
#X connect 47 0 83 0;
#X connect 48 0 49 0;
#X connect 49 0 51 0;
#X connect 50 0 49 1;
#X connect 52 0 39 0;
#X connect 52 1 44 0;
#X connect 52 2 26 0;
#X connect 52 2 62 0;
#X connect 54 0 56 0;
#X connect 55 0 31 2;
#X connect 56 0 55 0;
#X connect 56 1 55 1;
#X connect 57 0 23 0;
#X connect 58 0 2 0;
#X connect 60 0 42 0;
#X connect 61 0 4 0;
#X connect 61 1 5 0;
#X connect 62 0 63 0;
#X connect 63 0 64 0;
#X connect 65 0 67 0;
#X connect 66 0 68 1;
#X connect 67 0 68 0;
#X connect 68 0 69 0;
#X connect 72 0 73 0;
#X connect 73 0 74 0;
#X connect 75 0 20 0;
#X connect 75 1 76 0;
#X connect 76 0 20 0;
#X connect 76 1 15 0;
#X connect 77 0 86 0;
#X connect 79 0 82 0;
#X connect 79 1 81 0;
#X connect 81 0 80 0;
#X connect 81 1 77 0;
#X connect 81 2 86 1;
#X connect 82 0 80 0;
#X connect 83 0 80 0;
#X connect 83 1 82 0;
#X connect 84 0 58 0;
#X connect 84 1 58 1;
#X connect 85 0 62 0;
#X connect 85 1 58 0;
#X connect 85 2 84 2;
#X connect 86 0 79 0;
#X connect 87 0 88 0;
#X connect 88 0 50 0;
#X coords 0 -1 1 1 187 21 1 113 17;
#X restore 30 30 pd time;
#N canvas 349 256 423 381 input 0;
#X obj 20 20 midi-input;
#X obj 20 90 r \$0-arp;
#X obj 20 70 r all-arp;
#X obj 20 210 outlet;
#X obj 20 140 inlet;
#N canvas 735 555 450 300 args 0;
#X obj 20 30 loadbang;
#X obj 20 85 del 300;
#X obj 20 140 list append \$1;
#X obj 20 165 sel 0;
#X msg 20 200 preset \$1;
#X obj 20 110 t b b;
#X obj 120 140 f \$2;
#X obj 120 165 sel 0;
#X msg 120 200 outchan \$1;
#X obj 20 260 outlet;
#X obj 20 55 t b b;
#X obj 200 225 spigot;
#X obj 200 30 list append \$1;
#X obj 200 55 sel 0;
#X msg 227 80 1;
#X obj 200 200 r \$1-arp;
#X connect 0 0 10 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 1 4 0;
#X connect 4 0 9 0;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 10 0 1 0;
#X connect 10 1 12 0;
#X connect 11 0 9 0;
#X connect 12 0 13 0;
#X connect 13 1 14 0;
#X connect 14 0 11 1;
#X connect 15 0 11 0;
#X restore 40 170 pd args;
#X obj 130 20 r \$0-midi-learn;
#X obj 130 45 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 130 68 sel 0 1;
#X msg 130 93 10;
#X msg 130 118 color \$1 12;
#X obj 130 143 s \$0-learn-mode;
#X msg 160 93 6;
#X obj 20 110 r \$0-myarp;
#X connect 0 0 3 0;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 10 0;
#X connect 13 0 3 0;
#X restore 30 210 pd input;
#N canvas 411 510 450 325 output 0;
#X obj 20 190 midi-output;
#X obj 20 130 spigot;
#X obj 20 155 print out;
#X obj 20 20 inlet;
#X obj 80 20 inlet;
#X obj 20 70 s \$0-loopcheck;
#X obj 20 100 t a a;
#X obj 200 70 unpack f f f;
#X obj 200 100 sel 0;
#X obj 200 125 s \$0-loopstart;
#X obj 300 100 change;
#X obj 300 125 s \$0-loopcounter;
#X obj 20 45 route loopcheck loopsize loopcounter;
#X obj 130 130 t b f;
#X obj 200 180 s \$0-loopsize;
#X msg 200 155 set \$1;
#X obj 130 180 s \$0-loop;
#X msg 130 155 1;
#X connect 1 0 2 0;
#X connect 3 0 12 0;
#X connect 4 0 1 1;
#X connect 6 0 1 0;
#X connect 6 1 0 0;
#X connect 7 0 8 0;
#X connect 7 1 10 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 12 0 5 0;
#X connect 12 1 13 0;
#X connect 12 2 7 0;
#X connect 12 3 6 0;
#X connect 13 0 17 0;
#X connect 13 1 15 0;
#X connect 15 0 14 0;
#X connect 17 0 16 0;
#X restore 30 370 pd output;
#X obj 207 82 bng 25 250 50 0 \$0-play empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X msg 30 80 learn;
#X msg 30 100 unlearn;
#X text 93 90 MIDI learn;
#N canvas 312 484 494 281 init 0;
#X obj 310 46 pd-remote;
#X msg 310 20 pdluax reload;
#N canvas 857 77 450 300 preset 0;
#X floatatom 180 100 5 1 12 0 - - -, f 5;
#X msg 180 125 preset \$1;
#X obj 180 149 s \$0-arp;
#X obj 180 70 + 1;
#X obj 180 30 inlet;
#X obj 20 30 inlet;
#X obj 20 55 route float;
#X obj 83 100 pack s;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 6 1 7 0;
#X connect 7 0 1 0;
#X restore 329 102 pd preset;
#X floatatom 329 80 5 0 99 0 - - -, f 5;
#X obj 110 100 declare -path lib;
#X obj 380 46 r \$0-presetno-set;
#X msg 40 153 pgmset \$1;
#X obj 40 178 s \$0-arp;
#X text 110 130 pgmset mode \, if enabled \, interprets program changes
as preset selection (this is disabled by default \, meaning that program
changes will be passed through to MIDI output instead), f 51;
#X obj 370 200 loadbang;
#X obj 40 130 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X text 40 200 You can enable pgmset mode by default by connecting
the loadbang with the toggle above. This may be useful for automation
purposes (e.g. when running Raptor as a plugin) \, but note that this
prevents program changes to be passed through., f 51;
#X obj 40 20 hradio 15 0 0 3 empty empty empty 0 -8 0 10 #fcfcfc #000000
#000000 0;
#X msg 40 66 deck \$1;
#X text 110 20 deck number (-1 = off \, 0 = on/omni \, 1 = left \,
2 = right) \, for DJ controllers with two identical sets of controls
, f 30;
#X msg 10 20 -1;
#X obj 40 89 s \$0-deck;
#X obj 40 43 t f;
#X connect 1 0 0 0;
#X connect 3 0 2 0;
#X connect 5 0 2 1;
#X connect 6 0 7 0;
#X connect 10 0 6 0;
#X connect 12 0 17 0;
#X connect 13 0 7 0;
#X connect 15 0 17 0;
#X connect 17 0 13 0;
#X connect 17 0 16 0;
#X restore 100 370 pd init;
#X obj 182 77 cnv 15 70 38 empty empty Raptor7 9 17 0 14 #ffffff #404040
0;
#X text 193 108 (c) 2024;
#N canvas 320 369 462 403 looper 0;
#X floatatom 40 82 3 0 99 0 - - -, f 3;
#X obj 70 82 bng 15 250 50 0 empty empty load 17 7 0 10 #fcfcfc #202020
#202020;
#X obj 260 40 r \$0-loop;
#X obj 260 65 route set;
#X obj 260 90 != 0;
#X obj 260 115 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X floatatom 257 297 5 0 0 0 - - -, f 5;
#X msg 257 321 color \$1 12 12;
#X obj 257 240 sel 1 0;
#X msg 297 267 0;
#X obj 330 40 r \$0-arp;
#X obj 330 65 route loop;
#X obj 170 40 r \$0-preset;
#X symbolatom 170 65 10 0 0 0 - - -, f 10;
#X obj 142 66 bng 15 150 10 0 empty \$0-loopstart empty 17 7 0 10 #a0a0a0
#202020 #202020;
#X floatatom 116 65 3 0 0 0 - #0-loopcounter -, f 3;
#X obj 30 176 t b f;
#N canvas 650 217 453 353 filename 0;
#X obj 40 80 symbol;
#X obj 40 105 pack s f;
#X msg 40 130 symbol \$1-\$2;
#X obj 40 20 inlet;
#X obj 120 20 inlet;
#X obj 80 20 inlet;
#X obj 40 180 outlet;
#X obj 40 155 makefilename data/%s.loop;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 1 1;
#X connect 7 0 6 0;
#X restore 70 290 pd filename;
#X msg 70 315 loop \$1 2;
#X obj 70 340 s \$0-myarp;
#N canvas 165 240 458 431 filename 0;
#X obj 40 80 symbol;
#X obj 40 105 pack s f;
#X msg 40 130 symbol \$1-\$2;
#X obj 40 20 inlet;
#X obj 120 20 inlet;
#X obj 80 20 inlet;
#X obj 40 180 outlet;
#X obj 40 155 makefilename data/%s.loop;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 1 1;
#X connect 7 0 6 0;
#X restore 70 176 pd filename;
#X text 110 140 load/save;
#X text 140 315 check;
#X obj 330 90 r \$0-loopcheck;
#X obj 357 240 sel 1 0;
#X msg 257 267 10;
#X obj 170 89 t b a;
#X msg 357 267 13;
#X obj 70 226 t b a;
#X obj 260 140 change;
#X obj 260 165 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 116 82 bng 15 250 50 0 empty empty save 17 7 0 10 #fcfcfc #202020
#202020;
#N canvas 165 240 458 431 filename 0;
#X obj 40 80 symbol;
#X obj 40 105 pack s f;
#X msg 40 130 symbol \$1-\$2;
#X obj 40 20 inlet;
#X obj 120 20 inlet;
#X obj 80 20 inlet;
#X obj 40 180 outlet;
#X obj 40 155 makefilename data/%s.loop;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 1 1;
#X connect 7 0 6 0;
#X restore 150 176 pd filename;
#X obj 150 226 t b a;
#X msg 70 201 loop \$1 0;
#X msg 150 201 loop \$1 1;
#X obj 330 115 t f f;
#X floatatom 357 297 5 0 0 0 - - -, f 5;
#X msg 357 321 color \$1 12 12;
#X msg 397 267 0;
#X obj 257 346 s \$0-loop-load;
#X obj 357 346 s \$0-loop-save;
#X obj 170 20 r \$0-preset-nam;
#N canvas 606 479 515 300 looper-remote 0;
#X obj 20 150 v \$0-loopnum;
#X obj 20 175 + 1;
#X obj 120 150 v \$0-loopnum;
#X obj 120 175 - 1;
#X obj 120 200 moses 0;
#X obj 20 200 moses 100;
#X obj 220 20 inlet;
#X obj 20 269 outlet;
#X obj 220 269 s \$0-arp;
#X obj 20 118 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 120 118 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 220 240 spigot 1;
#X obj 20 245 t b f b;
#X msg 150 240 0;
#X msg 120 240 1;
#X obj 120 265 t f;
#X obj 20 20 r \$0-loop-next;
#X obj 120 20 r \$0-loop-prev;
#X obj 20 45 route set;
#X obj 120 45 route set;
#X obj 20 70 change;
#X obj 120 70 change;
#X obj 20 95 t b;
#X obj 120 95 t b;
#X obj 300 118 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 400 118 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 300 45 route set;
#X obj 400 45 route set;
#X obj 300 70 change;
#X obj 400 70 change;
#X obj 300 95 t b;
#X obj 400 95 t b;
#X obj 300 20 r \$0-loop-load;
#X obj 400 20 r \$0-loop-save;
#N canvas 847 567 450 300 loopnum 0;
#X obj 20 70 t b f b;
#X obj 20 105 v \$0-loopnum;
#X obj 110 105 v \$0-loopnum;
#X obj 20 130 -;
#X obj 20 155 sel 0;
#X obj 20 180 moses 1;
#X msg 20 205 loop-prev -1;
#X msg 110 205 loop-next -1;
#X obj 20 20 inlet;
#X obj 20 250 outlet;
#X connect 0 0 1 0;
#X connect 0 1 1 0;
#X connect 0 2 2 0;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 0 0;
#X restore 220 50 pd loopnum;
#X obj 300 141 outlet;
#X obj 400 141 outlet;
#X text 200 190 these are just synthetic events for MIDI learn, f
24;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 1 12 0;
#X connect 5 0 12 0;
#X connect 6 0 34 0;
#X connect 9 0 0 0;
#X connect 10 0 2 0;
#X connect 11 0 8 0;
#X connect 12 0 14 0;
#X connect 12 1 7 0;
#X connect 12 2 13 0;
#X connect 13 0 15 0;
#X connect 14 0 15 0;
#X connect 15 0 11 1;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 20 0;
#X connect 19 0 21 0;
#X connect 20 0 22 0;
#X connect 21 0 23 0;
#X connect 22 0 9 0;
#X connect 23 0 10 0;
#X connect 24 0 35 0;
#X connect 25 0 36 0;
#X connect 26 0 28 0;
#X connect 26 1 35 0;
#X connect 27 0 29 0;
#X connect 27 1 36 0;
#X connect 28 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 24 0;
#X connect 31 0 25 0;
#X connect 32 0 26 0;
#X connect 33 0 27 0;
#X connect 34 0 11 0;
#X restore 40 20 pd looper-remote;
#X connect 0 0 16 0;
#X connect 0 0 20 1;
#X connect 0 0 32 1;
#X connect 0 0 43 0;
#X connect 1 0 20 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 29 0;
#X connect 6 0 7 0;
#X connect 7 0 40 0;
#X connect 8 0 25 0;
#X connect 8 1 9 0;
#X connect 9 0 6 0;
#X connect 10 0 11 0;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 13 0 26 0;
#X connect 16 0 17 0;
#X connect 16 1 17 1;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 34 0;
#X connect 23 0 36 0;
#X connect 24 0 27 0;
#X connect 24 1 39 0;
#X connect 25 0 6 0;
#X connect 26 0 0 0;
#X connect 26 1 17 2;
#X connect 26 1 20 2;
#X connect 26 1 32 2;
#X connect 27 0 37 0;
#X connect 28 0 17 0;
#X connect 28 1 19 0;
#X connect 29 0 30 0;
#X connect 30 0 17 0;
#X connect 31 0 32 0;
#X connect 32 0 35 0;
#X connect 33 0 17 0;
#X connect 33 1 19 0;
#X connect 34 0 28 0;
#X connect 35 0 33 0;
#X connect 36 0 8 0;
#X connect 36 1 24 0;
#X connect 37 0 38 0;
#X connect 38 0 41 0;
#X connect 39 0 37 0;
#X connect 42 0 13 0;
#X connect 43 0 0 0;
#X connect 43 1 1 0;
#X connect 43 2 31 0;
#X coords 0 -1 1 1 125 36 1 36 64;
#X restore 130 160 pd looper;
#N canvas 238 399 450 300 counter 0;
#X obj 60 40 unpack f f;
#X floatatom 60 84 4 0 0 0 - - -, f 4;
#X floatatom 91 84 4 0 0 0 - - -, f 4;
#X floatatom 134 84 5 0 0 0 - - #0-tick, f 5;
#X obj 60 20 inlet;
#X obj 134 20 inlet;
#X obj 20 60 sel 0;
#X obj 40 85 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 60 60 + 1;
#X connect 0 0 8 0;
#X connect 0 0 6 0;
#X connect 0 1 2 0;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 8 0 1 0;
#X coords 0 -1 1 1 81 39 1 38 65;
#X restore 46 267 pd counter;
#X connect 3 0 26 0;
#X connect 3 1 35 0;
#X connect 3 2 35 1;
#X connect 4 0 26 1;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 10 0 9 0;
#X connect 11 0 14 0;
#X connect 12 0 14 0;
#X connect 13 0 14 0;
#X connect 16 0 25 0;
#X connect 17 0 25 0;
#X connect 18 0 25 0;
#X connect 19 0 25 0;
#X connect 22 0 14 0;
#X connect 23 0 9 0;
#X connect 24 0 25 0;
#X connect 25 0 3 0;
#X connect 28 0 25 0;
#X connect 29 0 25 0;
